app.controller("annotationCtrl",["$scope","$http","$document","errorCode","url","fakeness","feedback",function(a,e,n,t,l,o,r){a.fakenessDone=!1,a.loadingFakeness=!1,a.loadingAnalyzeUrl=!1,a.feedbackSelected=!1,angular.element(function(){a.loading=!1,$('[data-toggle="tooltip"]').tooltip()}),$("#gaugeFakeness").on("contextmenu",function(){return!1}),a.sendFeedback=function(e){a.feedbackSelected=!0,$("#alert").fadeIn(),$("#feedback").fadeOut();var n={title:a.title,text:a.text,label:e};console.log(n),r.sendFb(n).then(function(e){console.log(e)},function(e){})},a.analyzeUrl=function(){if(!a.url)return!1;a.loadingAnalyzeUrl=!0;var e=a.url;l.analyzeUrl(e).then(function(e){a.page=e.data,a.title=a.page.title,a.text=a.page.body,a.loadingAnalyzeUrl=!1},function(e){a.loadingAnalyzeUrl=!1})},a.send=function(){if(a.feedbackSelected=!1,a.fakenessDone=!1,$("#gaugeFakeness").removeClass("animated fadeIn"),zingchart.exec("gaugeFakeness","destroy"),!a.title||!a.text)return!1;var e={title:a.title,text:a.text,source:""};a.loadingFakeness=!0,o.getFakeness(e).then(function(e){a.value=e.data[0],a.fakeValue=parseInt(100*a.value.FAKE),a.realValue=parseInt(100*a.value.REAL),zingchart.render({id:"gaugeFakeness",data:{type:"gauge","background-color":"#f7fafc","scale-r":{markers:[{type:"line",range:[50],"line-color":"grey","line-width":2,"line-style":"dashed",alpha:1}],aperture:200,values:"0:100:25",center:{size:5,"background-color":"#66CCFF #FFCCFF","border-color":"none"},ring:{size:10,rules:[{rule:"%v >= 0 && %v <= 25","background-color":"green"},{rule:"%v >= 25 && %v <= 50","background-color":"yellow"},{rule:"%v >= 50 && %v <= 75","background-color":"orange"},{rule:"%v >= 75 && %v <=100","background-color":"red"}]},labels:["REAL","","","","FAKE"],item:{"font-color":"black","font-family":"Open Sans, serif","font-size":13,"font-weight":"bold","font-style":"normal","offset-r":0,angle:"auto"}},gui:{contextMenu:{empty:!0}},plot:{tooltip:{visible:!1},csize:"5%",size:"100%","background-color":"#000000"},series:[{values:[a.fakeValue]}]},height:"100%",width:"100%"}),a.fakenessDone=!0,a.loadingFakeness=!1,$("#gaugeFakeness").addClass("animated fadeIn")},function(e){a.fakenessDone=!1,a.loadingFakeness=!1,console.log(e)})}}]);