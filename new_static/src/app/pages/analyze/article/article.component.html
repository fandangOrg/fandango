<div class="col-md-8 col-12 analyze-container" *ngIf="article">
    <div class="grid">
        <a [href]="sirenUrl" target="_blank">
            <button class="btn btn-icon btn-secondary" style="position: absolute; top: 20px;right: 20px; z-index: 2">
                <span class="btn-inner--text span-fade" style="margin-right: 0">Open on Dashboard</span>
                <img class="inner-img" src="assets/img/logos/siren.png" style="height: 20px !important;">
            </button>
        </a>
        <div class="row">
            <div class="col-12">
                <h6 class="heading-small text-muted">Article</h6>
                <label class="form-control-label">Headline</label>
                <p>{{article.headline}}</p>
                <label class="form-control-label">Body</label>

                <p *ngIf="!showMore">{{article.body | truncate : 550}}</p>
                <p *ngIf="showMore">{{article.body}}</p>

                <div class="col-12 text-center">
                    <button class="btn btn-sm btn-secondary" *ngIf="!showMore" (click)="showMore = true">Show more</button>
                    <button class="btn btn-sm btn-secondary" *ngIf="showMore" (click)="showMore = false">Show less</button>
                </div>
            </div>

            <!--            <div class="col-md-3 col-12 text-center mt-3">-->
            <!--                <div>-->
            <!--                    <h1 class="text-green m-0" style="font-size: 95px">78%</h1>-->
            <!--                    <h3 class="text-black-50 text-capitalize mt&#45;&#45;3">Trustworthiness</h3>-->
            <!--                </div>-->
            <!--            </div>-->
        </div>
        <hr class="my-4"/>
        <div class="row">
            <div class="col-12">
                <h6 class="heading-small text-muted">Text analysis result</h6>
            </div>
            <div class="col-8 mx-auto">
                <!--                        <h6 class="heading-small text-muted">Text analysis result</h6>-->
                <div class="progress-wrapper">
                    <div class="progress-info">
                        <div class="progress-label">
                            <span>Trustworthiness</span>
                        </div>
                        <div class="progress-percentage">
                            <span>{{(article.textAnalysis[0]['1'] * 100).toFixed(2)}}%</span>
                        </div>
                    </div>
                    <div class="progress">
                        <div class="progress-bar bg-success"
                             [ngClass]="getProgressColor(article.textAnalysis[0]['1'] * 100)" role="progressbar"
                             aria-valuemin="0" aria-valuemax="100"
                             [style.width]="article.textAnalysis[0]['1'] * 100 + '%'">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="my-4"/>
        <!-- Address -->
        <div class="row">
            <div class="col-6 pr-0">
                <h6 class="heading-small text-muted">Authors</h6>
                <div class="table-responsive">
                    <table class="table table-flush">
                        <tbody>
                        <tr *ngFor="let author of article.authors">
                            <th scope="row">
                                {{author.name}}
                            </th>
                            <td>
                                <div class="d-flex align-items-center">
                                    <span class="mr-2">{{author.fakenessScore}}%</span>
                                    <div>
                                        <div class="progress">
                                            <div class="progress-bar"
                                                 [ngClass]="getProgressColor(author.fakenessScore)"
                                                 role="progressbar"
                                                 aria-valuemin="0" aria-valuemax="100"
                                                 [style.width]="author.fakenessScore + '%'"></div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr *ngIf="article.authors.length === 0">
                            <th colspan="2">
                                No authors found
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-6 pl-0">
                <h6 class="heading-small text-muted">Publisher</h6>
                <div class="table-responsive">
                    <table class="table table-flush">
                        <tbody>
                        <tr *ngFor="let publisher of article.publishers">
                            <th scope="row">
                                {{publisher.name}}
                            </th>
                            <td>
                                <div class="d-flex align-items-center">
                                    <span class="mr-2">{{publisher.fakenessScore}}%</span>
                                    <div>
                                        <div class="progress">
                                            <div class="progress-bar"
                                                 [ngClass]="getProgressColor(publisher.fakenessScore)"
                                                 role="progressbar"
                                                 aria-valuemin="0" aria-valuemax="100"
                                                 [style.width]="publisher.fakenessScore + '%'"></div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr *ngIf="article.publishers.length === 0">
                            <th colspan="2">
                                No publishers found
                            </th>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--                <div class="col-md-2 col-12 text-center">-->
            <!--                    <div>-->
            <!--                        <h1 class="text-green m-0" style="font-size: 95px">64%</h1>-->
            <!--                        <h3 class="text-black-50 mt&#45;&#45;3">SCORE</h3>-->
            <!--                    </div>-->
            <!--                </div>-->
        </div>
        <hr class="my-4"/>
        <div class="row">
            <div class="col-12">
                <h6 class="heading-small text-muted">Images</h6>
                <div class="row">
                    <!--                    <div class="col-2">-->
                    <!--                        <div class="card bg-light text-white p-0 mr-2">-->
                    <!--                            <img class="card-img"-->
                    <!--                                 src="https://demos.creative-tim.com/argon-dashboard-pro/assets/img/theme/img-1-1000x600.jpg"-->
                    <!--                                 style="height: 100px">-->
                    <!--                            <div class="card-footer text-center">-->
                    <!--                                <div class="row">-->
                    <!--                                    <div class="col-6 mx-auto">-->
                    <!--                                        <button class="btn btn-sm btn-info">Analyze</button>-->
                    <!--                                    </div>-->
                    <!--                                </div>-->
                    <!--                            </div>-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                    <div class="col-12" style="white-space: nowrap;overflow-x: auto;">
                        <img *ngFor="let image of article.images" class="c-pointer img-thumbnail mr-3"
                             (click)="analyzeImage(image)"
                             [src]="image"
                             style="height: 115px">

                        <h4 class="text-muted" *ngIf="article.images.length === 0">
                            No images found
                        </h4>
                    </div>
                </div>
            </div>
        </div>
        <hr class="my-4"/>
        <div class="row">
            <div class="col-12">
                <h6 class="heading-small text-muted">Videos</h6>
                <div class="row">
                    <div class="col-12">
                        <img *ngFor="let video of article.videos" class="c-pointer img-thumbnail mr-3"
                             (click)="analyzeVideo(video)"
                             [src]="embedVideoThumb(video)" style="height: 115px">

                        <!--                    <div class="col-12 mt-4" style="white-space: nowrap;overflow-x: auto;">-->
                        <!--                        <iframe *ngFor="let video of article.videos" class="img-thumbnail" style="height: 150px"-->
                        <!--                                [src]="embedVideo(video)"></iframe>-->
                        <!--                    </div>-->

                        <h4 class="text-muted" *ngIf="article.videos.length === 0">
                            No videos found
                        </h4>
                    </div>
                </div>
            </div>
        </div>
        <hr class="my-4"/>
        <h6 class="heading-small text-muted">Similar</h6>
        <div class="table-responsive table-striped">
            <table class="table table-flush">
                <thead class="bg-white">
                <tr>
                    <th scope="col">Headline</th>
                    <th scope="col">Publisher</th>
                    <th scope="col">Rating</th>
                    <!--                    <th scope="col" style="width: 1%"></th>-->
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let news of article.similarNews">
                    <th scope="row">
                        {{news.headline}}
                    </th>
                    <th scope="row">
                        {{news.publisher}}
                    </th>
                    <th scope="row" [ngClass]="getScoreColor(news.textRating * 100)">
                        {{(news.textRating * 100).toFixed(2)}}%
                    </th>
                    <!--                    <th scope="row">-->
                    <!--                        <i class="fas fa-info-circle fa-2x text-default c-pointer" style="font-size: 18px"></i>-->
                    <!--                    </th>-->
                </tr>

                <tr *ngIf="article.similarNews.length === 0">
                    <th colspan="3">
                        No similar found
                    </th>
                </tr>
                </tbody>
            </table>
        </div>
        <span class="my-4"></span>
    </div>
</div>
